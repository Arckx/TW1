!function(n){window.llms=window.llms||{},window.llms.widgets=function(){return this.$widgets=n(".llms-widget"),this.$info_toggles=n(".llms-widget-info-toggle"),this.init=function(){this.bind()},this.bind=function(){var l=this;this.$info_toggles.on("hover",function(){var t=n(this).closest(".llms-widget"),e=(t.find(".llms-widget-info"),t.hasClass("info-showing")?"hide":"show");l.$widgets.removeClass("info-showing"),"show"==e&&t.addClass("info-showing")})},this.init(),this};new window.llms.widgets;n.fn.llmsPostsSelect2=function(e){var l=this,t=(e=e||{},{multiple:!1,placeholder:void 0!==LLMS.l10n?LLMS.l10n.translate("Select a Course/Membership"):"Select a Course/Membership",post_type:l.attr("data-post-type")||"post",post_statuses:l.attr("data-post-statuses")||"publish",instructor_id:null,allow_clear:l.attr("data-post-type")||!1,width:null});n.each(t,function(t){l.attr("data-"+t)&&(e[t]=l.attr("data-"+t))}),"multiple"===l.attr("multiple")&&(e.multiple=!0),e=n.extend(t,e),this.llmsSelect2({allowClear:e.allow_clear,ajax:{dataType:"JSON",delay:250,method:"POST",url:window.ajaxurl,data:function(t){return{action:"select2_query_posts",page:t.page?t.page-1:0,post_type:e.post_type,instructor_id:e.instructor_id,post_statuses:e.post_statuses,term:t.term,_ajax_nonce:wp_ajax_data.nonce}},processResults:function(t,e){return{results:function e(t){return Array.isArray(t)?n.map(t,function(t){return{text:(e=t).name,id:e.id};var e}):n.map(t,function(t){return{text:t.label,children:e(t.items)}})}(t.items),pagination:{more:t.more}}}},cache:!0,placeholder:e.placeholder,multiple:e.multiple,width:e.width})},n("select.llms-posts-select2").llmsPostsSelect2(),n.fn.llmsStudentsSelect2=function(e){var l=this,t=(e=e||{},{allow_clear:!1,enrolled_in:"",multiple:!1,not_enrolled_in:"",placeholder:void 0!==LLMS.l10n?LLMS.l10n.translate("Select a student"):"Select a student",roles:"",width:"100%"});return n.each(t,function(t){l.attr("data-"+t)&&(e[t]=l.attr("data-"+t))}),e=n.extend(t,e),this.llmsSelect2({allowClear:e.allow_clear,ajax:{dataType:"JSON",delay:250,method:"POST",url:window.ajaxurl,data:function(t){return{_ajax_nonce:wp_ajax_data.nonce,action:"query_students",page:t.page,not_enrolled_in:t.not_enrolled_in||e.not_enrolled_in,enrolled_in:t.enrolled_in||e.enrolled_in,roles:t.roles||e.roles,term:t.term}},processResults:function(t,e){return{results:n.map(t.items,function(t){return{text:t.name+" <"+t.email+">",id:t.id}}),pagination:{more:t.more}}}},cache:!0,placeholder:e.placeholder,multiple:e.multiple,width:e.width}),this}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtYWRtaW4uanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImxsbXMiLCJ3aWRnZXRzIiwidGhpcyIsIiR3aWRnZXRzIiwiJGluZm9fdG9nZ2xlcyIsImluaXQiLCJiaW5kIiwic2VsZiIsIm9uIiwiJHdpZGdldCIsImNsb3Nlc3QiLCJhY3Rpb24iLCJmaW5kIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiZm4iLCJsbG1zUG9zdHNTZWxlY3QyIiwib3B0aW9ucyIsImRlZmF1bHRzIiwibXVsdGlwbGUiLCJwbGFjZWhvbGRlciIsInVuZGVmaW5lZCIsIkxMTVMiLCJsMTBuIiwidHJhbnNsYXRlIiwicG9zdF90eXBlIiwiYXR0ciIsInBvc3Rfc3RhdHVzZXMiLCJpbnN0cnVjdG9yX2lkIiwiYWxsb3dfY2xlYXIiLCJ3aWR0aCIsImVhY2giLCJzZXR0aW5nIiwiZXh0ZW5kIiwibGxtc1NlbGVjdDIiLCJhbGxvd0NsZWFyIiwiYWpheCIsImRhdGFUeXBlIiwiZGVsYXkiLCJtZXRob2QiLCJ1cmwiLCJhamF4dXJsIiwiZGF0YSIsInBhcmFtcyIsInBhZ2UiLCJ0ZXJtIiwiX2FqYXhfbm9uY2UiLCJ3cF9hamF4X2RhdGEiLCJub25jZSIsInByb2Nlc3NSZXN1bHRzIiwicmVzdWx0cyIsIm1hcF9kYXRhIiwiaXRlbXMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJpdGVtIiwidGV4dCIsIm5hbWUiLCJpZCIsImxhYmVsIiwiY2hpbGRyZW4iLCJwYWdpbmF0aW9uIiwibW9yZSIsImNhY2hlIiwibGxtc1N0dWRlbnRzU2VsZWN0MiIsImVucm9sbGVkX2luIiwibm90X2Vucm9sbGVkX2luIiwicm9sZXMiLCJlbWFpbCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBV0MsU0FBWUEsR0FFWkMsT0FBT0MsS0FBT0QsT0FBT0MsTUFBUSxHQUU3QkQsT0FBT0MsS0FBS0MsUUFBVSxXQXFDckIsT0FuQ0FDLEtBQUtDLFNBQVdMLEVBQUcsZ0JBQ25C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WSxDQUNoQkMsV0FBWWxCLEVBQVFZLFlBQ3BCTyxLQUFNLENBQ0xDLFNBQVUsT0FDVkMsTUFBTyxJQUNQQyxPQUFRLE9BQ1JDLElBQUsxQyxPQUFPMkMsUUFDWkMsS0FBTSxTQUFVQyxHQUNmLE1BQU8sQ0FDTkcsWUFBYUMsYUFBYUMsTUFDMUJ0QyxPQUFRLGlCQUNSa0MsS0FBTUQsRUFBT0MsS0FDYnVCLGdCQUFpQnhCLEVBQU93QixpQkFBbUJsRCxFQUFRa0QsZ0JBQ25ERCxZQUFhdkIsRUFBT3VCLGFBQWVqRCxFQUFRaUQsWUFDM0NFLE1BQU96QixFQUFPeUIsT0FBU25ELEVBQVFtRCxNQUMvQnZCLEtBQU1GLEVBQU9FLE9BR2ZJLGVBQWdCLFNBQVVQLEVBQU1DLEdBQy9CLE1BQU8sQ0FDTk8sUUFBU3JELEVBQUUwRCxJQUFLYixFQUFLVSxNQUFPLFNBQVVJLEdBRXJDLE1BQU8sQ0FDTkMsS0FBTUQsRUFBS0UsS0FBTyxLQUFPRixFQUFLYSxNQUFPLElBQ3JDVixHQUFJSCxFQUFLRyxNQUlYRyxXQUFZLENBQ1hDLEtBQU1yQixFQUFLcUIsU0FNZkMsT0FBTyxFQUNQNUMsWUFBYUgsRUFBUUcsWUFDckJELFNBQVVGLEVBQVFFLFNBQ2xCVyxNQUFPYixFQUFRYSxRQUdUN0IsTUFqT1IsQ0FxT0lxRSIsImZpbGUiOiJsbG1zLWFkbWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGlmdGVyTE1TIEFkbWluIFBhbmVsIEphdmFzY3JpcHRcbiAqXG4gKiBAc2luY2UgPz9cbiAqIEBzaW5jZSAzLjMyLjAgYGxsbXNQb3N0c1NlbGVjdDJgIGZ1bmN0aW9uIGFsbG93cyBwb3N0cyBmZWN0aGluZyBiYXNlZCBvbiBwb3N0IHN0YXR1c2VzLlxuICogQHNpbmNlIDMuMzcuMiBgbGxtc1Bvc3RzU2VsZWN0MmAgZnVuY3Rpb24gYWxsb3dzIHBvc3RzIChsbG1zIHBvc3RzKSBmZXRjaGluZyBmaWx0ZXJlZCBieSB0aGVpciBpbnN0cnVjdG9yIGlkLlxuICogQHZlcnNpb24gMy4zNy4yXG4gKlxuICogQHBhcmFtIG9iaiAkIFRyYWRpdGlvbmFsIGpRdWVyeSByZWZlcmVuY2UuXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuOyggZnVuY3Rpb24oICQgKSB7XG5cblx0d2luZG93LmxsbXMgPSB3aW5kb3cubGxtcyB8fCB7fTtcblxuXHR3aW5kb3cubGxtcy53aWRnZXRzID0gZnVuY3Rpb24oKSB7XG5cblx0XHR0aGlzLiR3aWRnZXRzID0gJCggJy5sbG1zLXdpZGdldCcgKTtcblx0XHR0aGlzLiRpbmZvX3RvZ2dsZXMgPSAkKCAnLmxsbXMtd2lkZ2V0LWluZm8tdG9nZ2xlJyApO1xuXG5cdFx0dGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHRoaXMuYmluZCgpO1xuXG5cdFx0fTtcblxuXHRcdHRoaXMuYmluZCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMuJGluZm9fdG9nZ2xlcy5vbiggJ2hvdmVyJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICR0b2dnbGUgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JHdpZGdldCA9ICR0b2dnbGUuY2xvc2VzdCggJy5sbG1zLXdpZGdldCcgKSxcblx0XHRcdFx0XHQkaW5mbyA9ICR3aWRnZXQuZmluZCggJy5sbG1zLXdpZGdldC1pbmZvJyApLFxuXHRcdFx0XHRcdGFjdGlvbiA9ICggJHdpZGdldC5oYXNDbGFzcyggJ2luZm8tc2hvd2luZycgKSApID8gJ2hpZGUnIDogJ3Nob3cnO1xuXG5cdFx0XHRcdHNlbGYuJHdpZGdldHMucmVtb3ZlQ2xhc3MoICdpbmZvLXNob3dpbmcnICk7XG5cblx0XHRcdFx0aWYgKCAnc2hvdycgPT09IGFjdGlvbiApIHtcblxuXHRcdFx0XHRcdCR3aWRnZXQuYWRkQ2xhc3MoICdpbmZvLXNob3dpbmcnICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHR9XG5cblx0XHQvLyBnb1xuXHRcdHRoaXMuaW5pdCgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fTtcblxuXHR2YXIgbGxtc193aWRnZXRzID0gbmV3IHdpbmRvdy5sbG1zLndpZGdldHMoKTtcblxuXHQvKipcblx0ICogU2ltcGxlIGpRdWVyeSBwbHVnaW4gdG8gdHJhbnNmb3JtIHNlbGVjdCBlbGVtZW50cyBpbnRvIFNlbGVjdDItcG93ZXJlZCBlbGVtZW50cyB0byBxdWVyeSBmb3IgQ291cnNlcy9NZW1iZXJzaGlwcyB2aWEgQUpBWC5cblx0ICpcblx0ICogQHNpbmNlIDMuMTkuNFxuXHQgKiBAc2luY2UgMy4zMi4wIEFkZGVkIGFiaWxpdHkgdG8gZmV0Y2ggcG9zdHMgYmFzZWQgb24gdGhlaXIgcG9zdCBzdGF0dXMuXG5cdCAqIEBzaW5jZSAzLjM3LjIgQWRkZWQgYWJpbGl0eSB0byBmZXRjaCBwb3N0cyAobGxtcyBwb3N0cykgZmlsdGVyZWQgYnkgdGhlaXIgaW5zdHJ1Y3RvciBpZC5cblx0ICpcblx0ICogQHBhcmFtIG9iaiBvcHRpb25zIE9wdGlvbnMgcGFzc2VkIHRvIFNlbGVjdDIuXG5cdCAqICAgICAgICAgICAgICAgICAgICBFYWNoIGRlZmF1bHQgb3B0aW9uIHdpbGwgcHVsbGVkIGZyb20gdGhlIGVsZW1lbnRzIGRhdGEtYXR0cmlidXRlcy5cblx0ICogQHJldHVybiB2b2lkXG5cdCAqL1xuXHQkLmZuLmxsbXNQb3N0c1NlbGVjdDIgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcblxuXHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9LFxuXHRcdFx0ZGVmYXVsdHMgPSB7XG5cdFx0XHRcdG11bHRpcGxlOiBmYWxzZSxcblx0XHRcdFx0cGxhY2Vob2xkZXI6IHVuZGVmaW5lZCAhPT0gTExNUy5sMTBuID8gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1NlbGVjdCBhIENvdXJzZS9NZW1iZXJzaGlwJyApIDogJ1NlbGVjdCBhIENvdXJzZS9NZW1iZXJzaGlwJyxcblx0XHRcdFx0cG9zdF90eXBlOiBzZWxmLmF0dHIoICdkYXRhLXBvc3QtdHlwZScgKSB8fCAncG9zdCcsXG5cdFx0XHRcdHBvc3Rfc3RhdHVzZXM6IHNlbGYuYXR0ciggJ2RhdGEtcG9zdC1zdGF0dXNlcycgKSB8fCAncHVibGlzaCcsXG5cdFx0XHRcdGluc3RydWN0b3JfaWQ6IG51bGwsXG5cdFx0XHRcdGFsbG93X2NsZWFyOiBzZWxmLmF0dHIoICdkYXRhLXBvc3QtdHlwZScgKSB8fCBmYWxzZSxcblx0XHRcdFx0d2lkdGg6IG51bGwsXG5cdFx0XHR9O1xuXG5cdFx0JC5lYWNoKCBkZWZhdWx0cywgZnVuY3Rpb24oIHNldHRpbmcgKSB7XG5cdFx0XHRpZiAoIHNlbGYuYXR0ciggJ2RhdGEtJyArIHNldHRpbmcgKSApIHtcblx0XHRcdFx0b3B0aW9uc1sgc2V0dGluZyBdID0gc2VsZi5hdHRyKCAnZGF0YS0nICsgc2V0dGluZyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdGlmICggJ211bHRpcGxlJyA9PT0gc2VsZi5hdHRyKCAnbXVsdGlwbGUnICkgKSB7XG5cdFx0XHRvcHRpb25zLm11bHRpcGxlID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRvcHRpb25zID0gJC5leHRlbmQoIGRlZmF1bHRzLCBvcHRpb25zICk7XG5cblx0XHR0aGlzLmxsbXNTZWxlY3QyKCB7XG5cdFx0XHRhbGxvd0NsZWFyOiBvcHRpb25zLmFsbG93X2NsZWFyLFxuXHRcdFx0YWpheDoge1xuXHRcdFx0XHRkYXRhVHlwZTogJ0pTT04nLFxuXHRcdFx0XHRkZWxheTogMjUwLFxuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0dXJsOiB3aW5kb3cuYWpheHVybCxcblx0XHRcdFx0ZGF0YTogZnVuY3Rpb24oIHBhcmFtcyApIHtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0YWN0aW9uOiAnc2VsZWN0Ml9xdWVyeV9wb3N0cycsXG5cdFx0XHRcdFx0XHRwYWdlOiAoIHBhcmFtcy5wYWdlICkgPyBwYXJhbXMucGFnZSAtIDEgOiAwLCAvLyAwIGluZGV4IHRoZSBwYWdlcyB0byBtYWtlIGl0IHNpbXBsZXIgZm9yIHRoZSBkYXRhYmFzZSBxdWVyeVxuXHRcdFx0XHRcdFx0cG9zdF90eXBlOiBvcHRpb25zLnBvc3RfdHlwZSxcblx0XHRcdFx0XHRcdGluc3RydWN0b3JfaWQgOiBvcHRpb25zLmluc3RydWN0b3JfaWQsXG5cdFx0XHRcdFx0XHRwb3N0X3N0YXR1c2VzOiBvcHRpb25zLnBvc3Rfc3RhdHVzZXMsXG5cdFx0XHRcdFx0XHR0ZXJtOiBwYXJhbXMudGVybSxcblx0XHRcdFx0XHRcdF9hamF4X25vbmNlOiB3cF9hamF4X2RhdGEubm9uY2Vcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRwcm9jZXNzUmVzdWx0czogZnVuY3Rpb24oIGRhdGEsIHBhcmFtcyApIHtcblxuXHRcdFx0XHRcdC8vIHJlY3Vyc2l2ZSBmdW5jdGlvbiBmb3IgY3JlYXRpbmdcblx0XHRcdFx0XHRmdW5jdGlvbiBtYXBfZGF0YSggaXRlbXMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIHRoaXMgaXMgYSBmbGF0IGFycmF5IG9mIHJlc3VsdHNcblx0XHRcdFx0XHRcdC8vIHVzZWQgd2hlbiBvbmx5IG9uZSBwb3N0IHR5cGUgaXMgc2VsZWN0ZWRcblx0XHRcdFx0XHRcdC8vIGFuZCB0byBmb3JtYXQgY2hpbGRyZW4gd2hlbiB1c2luZyBvcHRncm91cHMgd2l0aCBtdWx0aXBsZSBwb3N0IHR5cGVzXG5cdFx0XHRcdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIGl0ZW1zICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiAkLm1hcCggaXRlbXMsIGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmb3JtYXRfaXRlbSggaXRlbSApO1xuXHRcdFx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gdGhpcyBzZXRzIHVwIHRoZSB0b3AgbGV2ZWwgb3B0Z3JvdXBzIHdoZW4gdXNpbmcgbXVsdGlwbGUgcG9zdCB0eXBlc1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuICQubWFwKCBpdGVtcywgZnVuY3Rpb24oIGl0ZW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRleHQ6IGl0ZW0ubGFiZWwsXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGlsZHJlbjogbWFwX2RhdGEoIGl0ZW0uaXRlbXMgKSxcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBmb3JtYXQgYSBzaW5nbGUgcmVzdWx0IChvcHRpb24pXG5cdFx0XHRcdFx0ZnVuY3Rpb24gZm9ybWF0X2l0ZW0oIGl0ZW0gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHR0ZXh0OiBpdGVtLm5hbWUsXG5cdFx0XHRcdFx0XHRcdGlkOiBpdGVtLmlkLFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0cmVzdWx0czogbWFwX2RhdGEoIGRhdGEuaXRlbXMgKSxcblx0XHRcdFx0XHRcdHBhZ2luYXRpb246IHtcblx0XHRcdFx0XHRcdFx0bW9yZTogZGF0YS5tb3JlXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRcdGNhY2hlOiB0cnVlLFxuXHRcdFx0cGxhY2Vob2xkZXI6IG9wdGlvbnMucGxhY2Vob2xkZXIsXG5cdFx0XHRtdWx0aXBsZTogb3B0aW9ucy5tdWx0aXBsZSxcblx0XHRcdHdpZHRoOiBvcHRpb25zLndpZHRoLFxuXHRcdH0gKTtcblxuXHR9O1xuXG5cdC8vIGF1dG9tYXRpY2FsbHkgc2V0dXAgYW55IHNlbGVjdCB3aXRoIHRoZSBgbGxtcy1wb3N0cy1zZWxlY3QyYCBjbGFzc1xuXHQkKCAnc2VsZWN0LmxsbXMtcG9zdHMtc2VsZWN0MicgKS5sbG1zUG9zdHNTZWxlY3QyKCk7XG5cblx0LyoqXG5cdCAqIFNpbXBsZSBqUXVlcnkgcGx1Z2luIHRvIHRyYW5zZm9ybSBzZWxlY3QgZWxlbWVudHMgaW50byBTZWxlY3QyLXBvd2VyZWQgZWxlbWVudHMgdG8gcXVlcnkgZm9yIFN0dWRlbnRzIHZpYSBBSkFYXG5cdCAqIEBwYXJhbSAgICBvYmogICBvcHRpb25zICBvcHRpb25zIHBhc3NlZCB0byBTZWxlY3QyXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoIGRlZmF1bHQgb3B0aW9uIHdpbGwgcHVsbGVkIGZyb20gdGhlIGVsZW1lbnRzIGRhdGEtYXR0cmlidXRlc1xuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgPz9cblx0ICogQHZlcnNpb24gIDMuMTcuNVxuXHQgKi9cblx0JC5mbi5sbG1zU3R1ZGVudHNTZWxlY3QyID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fSxcblx0XHRcdGRlZmF1bHRzID0ge1xuXHRcdFx0XHRhbGxvd19jbGVhcjogZmFsc2UsXG5cdFx0XHRcdGVucm9sbGVkX2luOiAnJyxcblx0XHRcdFx0bXVsdGlwbGU6IGZhbHNlLFxuXHRcdFx0XHRub3RfZW5yb2xsZWRfaW46ICcnLFxuXHRcdFx0XHRwbGFjZWhvbGRlcjogdW5kZWZpbmVkICE9PSBMTE1TLmwxMG4gPyBMTE1TLmwxMG4udHJhbnNsYXRlKCAnU2VsZWN0IGEgc3R1ZGVudCcgKSA6ICdTZWxlY3QgYSBzdHVkZW50Jyxcblx0XHRcdFx0cm9sZXM6ICcnLFxuXHRcdFx0XHR3aWR0aDogJzEwMCUnLFxuXHRcdFx0fTtcblxuXHRcdCQuZWFjaCggZGVmYXVsdHMsIGZ1bmN0aW9uKCBzZXR0aW5nICkge1xuXHRcdFx0aWYgKCBzZWxmLmF0dHIoICdkYXRhLScgKyBzZXR0aW5nICkgKSB7XG5cdFx0XHRcdG9wdGlvbnNbIHNldHRpbmcgXSA9IHNlbGYuYXR0ciggJ2RhdGEtJyArIHNldHRpbmcgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHRvcHRpb25zID0gJC5leHRlbmQoIGRlZmF1bHRzLCBvcHRpb25zICk7XG5cblx0XHR0aGlzLmxsbXNTZWxlY3QyKHtcblx0XHRcdGFsbG93Q2xlYXI6IG9wdGlvbnMuYWxsb3dfY2xlYXIsXG5cdFx0XHRhamF4OiB7XG5cdFx0XHRcdGRhdGFUeXBlOiAnSlNPTicsXG5cdFx0XHRcdGRlbGF5OiAyNTAsXG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHR1cmw6IHdpbmRvdy5hamF4dXJsLFxuXHRcdFx0XHRkYXRhOiBmdW5jdGlvbiggcGFyYW1zICkge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRfYWpheF9ub25jZTogd3BfYWpheF9kYXRhLm5vbmNlLFxuXHRcdFx0XHRcdFx0YWN0aW9uOiAncXVlcnlfc3R1ZGVudHMnLFxuXHRcdFx0XHRcdFx0cGFnZTogcGFyYW1zLnBhZ2UsXG5cdFx0XHRcdFx0XHRub3RfZW5yb2xsZWRfaW46IHBhcmFtcy5ub3RfZW5yb2xsZWRfaW4gfHwgb3B0aW9ucy5ub3RfZW5yb2xsZWRfaW4sXG5cdFx0XHRcdFx0XHRlbnJvbGxlZF9pbjogcGFyYW1zLmVucm9sbGVkX2luIHx8IG9wdGlvbnMuZW5yb2xsZWRfaW4sXG5cdFx0XHRcdFx0XHRyb2xlczogcGFyYW1zLnJvbGVzIHx8IG9wdGlvbnMucm9sZXMsXG5cdFx0XHRcdFx0XHR0ZXJtOiBwYXJhbXMudGVybSxcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRwcm9jZXNzUmVzdWx0czogZnVuY3Rpb24oIGRhdGEsIHBhcmFtcyApIHtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0cmVzdWx0czogJC5tYXAoIGRhdGEuaXRlbXMsIGZ1bmN0aW9uKCBpdGVtICkge1xuXG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0dGV4dDogaXRlbS5uYW1lICsgJyA8JyArIGl0ZW0uZW1haWwgKyc+Jyxcblx0XHRcdFx0XHRcdFx0XHRpZDogaXRlbS5pZCxcblx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0fSApLFxuXHRcdFx0XHRcdFx0cGFnaW5hdGlvbjoge1xuXHRcdFx0XHRcdFx0XHRtb3JlOiBkYXRhLm1vcmVcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdFx0Y2FjaGU6IHRydWUsXG5cdFx0XHRwbGFjZWhvbGRlcjogb3B0aW9ucy5wbGFjZWhvbGRlcixcblx0XHRcdG11bHRpcGxlOiBvcHRpb25zLm11bHRpcGxlLFxuXHRcdFx0d2lkdGg6IG9wdGlvbnMud2lkdGgsXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9O1xuXG59ICkoIGpRdWVyeSApO1xuIl19
